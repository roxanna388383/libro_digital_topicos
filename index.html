<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mi Cuaderno Digital - BDOO ✨</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Quicksand:wght@300;400;500;600;700&family=Pacifico&display=swap');

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Quicksand', sans-serif;
            background: linear-gradient(135deg, #ffecd2 0%, #fcb69f 50%, #ffecd2 100%);
            min-height: 100vh;
            padding: 20px;
            position: relative;
        }

        body::before {
            content: '✨';
            position: fixed;
            top: 10%;
            left: 5%;
            font-size: 2em;
            animation: float 3s ease-in-out infinite;
        }

        body::after {
            content: '🌸';
            position: fixed;
            bottom: 10%;
            right: 5%;
            font-size: 2em;
            animation: float 4s ease-in-out infinite;
        }

        @keyframes float {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-20px); }
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            border-radius: 30px;
            box-shadow: 0 20px 60px rgba(252, 182, 159, 0.4);
            overflow: hidden;
            border: 3px solid #ffb6c1;
        }

        .header {
            background: linear-gradient(135deg, #ff9a9e 0%, #fecfef 50%, #ffecd2 100%);
            color: #fff;
            padding: 50px 40px;
            text-align: center;
            position: relative;
            border-bottom: 5px solid #ffb6c1;
        }

        .header::before {
            content: '💖';
            position: absolute;
            top: 20px;
            left: 30px;
            font-size: 2em;
        }

        .header::after {
            content: '💖';
            position: absolute;
            top: 20px;
            right: 30px;
            font-size: 2em;
        }

        .header h1 {
            font-family: 'Pacifico', cursive;
            font-size: 2.8em;
            margin-bottom: 15px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.1);
            color: #fff;
        }

        .header p {
            font-size: 1.3em;
            font-weight: 500;
            color: #fff;
            text-shadow: 1px 1px 2px rgba(0,0,0,0.1);
        }

        .nav {
            background: linear-gradient(to right, #fff5f7, #ffe6f0, #fff5f7);
            padding: 25px;
            border-bottom: 4px solid #ffc0cb;
            position: sticky;
            top: 0;
            z-index: 100;
            box-shadow: 0 4px 15px rgba(255, 182, 193, 0.3);
        }

        .nav-buttons {
            display: flex;
            flex-wrap: wrap;
            gap: 12px;
            justify-content: center;
        }

        .nav-btn {
            padding: 14px 28px;
            background: linear-gradient(135deg, #ffecd2, #fcb69f);
            border: 3px solid #ffb6c1;
            border-radius: 30px;
            color: #d63384;
            cursor: pointer;
            transition: all 0.3s;
            font-weight: 600;
            font-size: 0.95em;
            box-shadow: 0 4px 15px rgba(255, 182, 193, 0.3);
        }

        .nav-btn:hover {
            background: linear-gradient(135deg, #ff9a9e, #fecfef);
            color: white;
            transform: translateY(-3px) scale(1.05);
            box-shadow: 0 6px 20px rgba(255, 154, 158, 0.5);
        }

        .nav-btn.active {
            background: linear-gradient(135deg, #ff9a9e, #fad0c4);
            color: white;
            box-shadow: 0 6px 20px rgba(255, 154, 158, 0.6);
        }

        .content {
            padding: 50px;
            background: linear-gradient(to bottom, #fff, #fff5f7);
        }

        .section {
            display: none;
            animation: fadeIn 0.6s;
        }

        .section.active {
            display: block;
        }

        @keyframes fadeIn {
            from { 
                opacity: 0; 
                transform: translateY(30px);
            }
            to { 
                opacity: 1; 
                transform: translateY(0);
            }
        }

        .section h2 {
            background: linear-gradient(135deg, #ff9a9e, #fecfef);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            font-size: 2.3em;
            margin-bottom: 25px;
            padding-bottom: 15px;
            border-bottom: 4px solid #ffb6c1;
            font-weight: 700;
            position: relative;
        }

        .section h2::before {
            content: '🌺';
            margin-right: 10px;
        }

        .section h3 {
            color: #d63384;
            font-size: 1.7em;
            margin-top: 35px;
            margin-bottom: 18px;
            font-weight: 600;
            position: relative;
            padding-left: 15px;
        }

        .section h3::before {
            content: '💕';
            position: absolute;
            left: -10px;
        }

        .section h4 {
            color: #ff69b4;
            font-size: 1.3em;
            margin-top: 25px;
            margin-bottom: 12px;
            font-weight: 600;
        }

        .section p {
            line-height: 1.9;
            color: #4a4a4a;
            margin-bottom: 18px;
            text-align: justify;
            font-size: 1.05em;
        }

        .section ul, .section ol {
            margin-left: 35px;
            margin-bottom: 18px;
            line-height: 2;
        }

        .section li {
            margin-bottom: 12px;
            color: #4a4a4a;
            font-size: 1.05em;
        }

        .section li::marker {
            color: #ff9a9e;
        }

        .card {
            background: linear-gradient(135deg, #fff5f7, #ffe6f0);
            padding: 25px;
            border-radius: 20px;
            margin: 25px 0;
            border: 3px solid #ffc0cb;
            box-shadow: 0 8px 20px rgba(255, 192, 203, 0.3);
            position: relative;
        }

        .card::before {
            content: '✨';
            position: absolute;
            top: 10px;
            right: 15px;
            font-size: 1.5em;
        }

        .highlight {
            background: linear-gradient(135deg, #fff9e6, #ffe8cc);
            padding: 20px;
            border-radius: 15px;
            margin: 20px 0;
            border-left: 5px solid #ffc107;
            box-shadow: 0 5px 15px rgba(255, 193, 7, 0.2);
        }

        .table-container {
            overflow-x: auto;
            margin: 25px 0;
            border-radius: 15px;
            box-shadow: 0 5px 15px rgba(255, 182, 193, 0.2);
        }

        table {
            width: 100%;
            border-collapse: collapse;
            margin: 25px 0;
            background: white;
            border-radius: 15px;
            overflow: hidden;
        }

        th {
            background: linear-gradient(135deg, #ff9a9e, #fecfef);
            color: white;
            padding: 18px;
            text-align: left;
            font-weight: 600;
            font-size: 1.05em;
        }

        td {
            padding: 15px 18px;
            border-bottom: 2px solid #ffe6f0;
        }

        tr:hover {
            background: #fff5f7;
        }

        .code-block {
            background: linear-gradient(135deg, #3d3d3d, #2d2d2d);
            color: #ffb6c1;
            padding: 25px;
            border-radius: 15px;
            margin: 20px 0;
            overflow-x: auto;
            font-family: 'Courier New', monospace;
            border: 3px solid #ff9a9e;
            box-shadow: 0 5px 15px rgba(255, 154, 158, 0.3);
        }

        strong {
            color: #d63384;
            font-weight: 600;
        }

        @media (max-width: 768px) {
            .header h1 {
                font-size: 2em;
            }
            .content {
                padding: 25px;
            }
            .nav-buttons {
                flex-direction: column;
            }
            body::before,
            body::after {
                display: none;
            }
        }

        .decorative-hearts {
            position: fixed;
            width: 100%;
            height: 100%;
            top: 0;
            left: 0;
            pointer-events: none;
            z-index: 1;
        }

        .heart {
            position: absolute;
            font-size: 1.5em;
            opacity: 0.3;
            animation: heartFloat 15s infinite;
        }

        @keyframes heartFloat {
            0% { transform: translateY(100vh) rotate(0deg); }
            100% { transform: translateY(-100vh) rotate(360deg); }
        }

        .heart:nth-child(1) { left: 10%; animation-delay: 0s; }
        .heart:nth-child(2) { left: 30%; animation-delay: 3s; }
        .heart:nth-child(3) { left: 50%; animation-delay: 6s; }
        .heart:nth-child(4) { left: 70%; animation-delay: 9s; }
        .heart:nth-child(5) { left: 90%; animation-delay: 12s; }
    </style>
</head>
<body>
    <div class="decorative-hearts">
        <div class="heart">💗</div>
        <div class="heart">🌸</div>
        <div class="heart">✨</div>
        <div class="heart">💖</div>
        <div class="heart">🌺</div>
    </div>

    <div class="container">
        <div class="header">
            <h1>Mi Cuaderno Digital ✨</h1>
            <p>Bases de Datos Orientadas a Objetos</p>
        </div>

        <nav class="nav">
            <div class="nav-buttons">
                <button class="nav-btn active" onclick="showSection('intro')">✨ Introducción</button>
                <button class="nav-btn" onclick="showSection('modelo')">💕 2.1 Modelo OO</button>
                <button class="nav-btn" onclick="showSection('odmg')">🌸 2.2 Estándar ODMG</button>
                <button class="nav-btn" onclick="showSection('identidad')">💖 2.3 Identidad</button>
                <button class="nav-btn" onclick="showSection('encapsulamiento')">🌺 2.4 Encapsulamiento</button>
                <button class="nav-btn" onclick="showSection('persistencia')">✨ 2.5 Persistencia</button>
            </div>
        </nav>

        <div class="content">
            <!-- Sección Introducción -->
            <section id="intro" class="section active">
                <h2>Sistemas de Bases de Datos Orientadas a Objetos</h2>
                
                <div class="card">
                    <h3>¿Qué son las BDOO?</h3>
                    <p>Las Bases de Datos Orientadas a Objetos (BDOO) son sistemas de gestión de bases de datos que integran conceptos de la programación orientada a objetos con las capacidades de gestión de datos persistentes. Permiten almacenar objetos complejos directamente sin necesidad de descomponerlos en tablas relacionales.</p>
                </div>

                <h3>Ventajas de las BDOO</h3>
                <ul>
                    <li><strong>Modelado Natural:</strong> Representan el mundo real de forma más intuitiva</li>
                    <li><strong>Reutilización:</strong> Herencia y polimorfismo facilitan la reutilización de código</li>
                    <li><strong>Objetos Complejos:</strong> Manejo eficiente de datos multimedia, gráficos y estructuras complejas</li>
                    <li><strong>Integridad:</strong> Encapsulamiento protege la consistencia de datos</li>
                    <li><strong>Performance:</strong> Mejor rendimiento para aplicaciones complejas</li>
                </ul>

                <h3>Desventajas</h3>
                <ul>
                    <li>Menor madurez comparado con sistemas relacionales</li>
                    <li>Falta de estándares universales</li>
                    <li>Curva de aprendizaje más pronunciada</li>
                    <li>Menor cantidad de herramientas disponibles</li>
                </ul>
            </section>

            <!-- Sección 2.1 -->
            <section id="modelo" class="section">
                <h2>2.1 El Modelo de Datos Orientado a Objetos</h2>

                <h3>2.1.1 Características de los SGBDOO</h3>
                
                <div class="card">
                    <h4>Características Fundamentales</h4>
                    <ol>
                        <li><strong>Objetos:</strong> Unidad básica que combina datos y comportamiento</li>
                        <li><strong>Identidad de Objeto (OID):</strong> Cada objeto tiene un identificador único e inmutable</li>
                        <li><strong>Encapsulamiento:</strong> Ocultamiento de la implementación interna</li>
                        <li><strong>Clases:</strong> Plantillas que definen estructura y comportamiento</li>
                        <li><strong>Herencia:</strong> Mecanismo para crear jerarquías de clases</li>
                        <li><strong>Polimorfismo:</strong> Capacidad de objetos de diferentes clases de responder a la misma operación</li>
                        <li><strong>Tipos Complejos:</strong> Soporte para tipos de datos estructurados</li>
                        <li><strong>Persistencia:</strong> Almacenamiento permanente de objetos</li>
                    </ol>
                </div>

                <div class="highlight">
                    <strong>📌 Nota Importante:</strong> A diferencia de las bases de datos relacionales que utilizan llaves primarias, las BDOO usan OID (Object Identifier) para identificar objetos de manera única.
                </div>

                <h3>2.1.2 Tipos de SGBDOO</h3>

                <div class="table-container">
                    <table>
                        <thead>
                            <tr>
                                <th>Tipo</th>
                                <th>Descripción</th>
                                <th>Ejemplo</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><strong>BDOO Puros</strong></td>
                                <td>Sistemas completamente orientados a objetos desde su diseño</td>
                                <td>Gemstone, ObjectStore</td>
                            </tr>
                            <tr>
                                <td><strong>BDOO Extendidas</strong></td>
                                <td>BD relacionales con extensiones orientadas a objetos</td>
                                <td>PostgreSQL, Oracle Object</td>
                            </tr>
                            <tr>
                                <td><strong>Híbridas (OR)</strong></td>
                                <td>Combinan modelo relacional con características OO</td>
                                <td>Oracle, DB2, SQL Server</td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <h3>2.1.3 Productos Principales</h3>

                <div class="card">
                    <h4>Productos Comerciales</h4>
                    <ul>
                        <li><strong>ObjectDB:</strong> BDOO puro para Java con alto rendimiento</li>
                        <li><strong>Versant Object Database:</strong> BDOO para aplicaciones de misión crítica</li>
                        <li><strong>Oracle Database:</strong> Soporte objeto-relacional robusto</li>
                        <li><strong>PostgreSQL:</strong> BDOO de código abierto con características avanzadas</li>
                        <li><strong>InterSystems Caché:</strong> Post-relacional con modelo de objetos</li>
                    </ul>
                </div>

                <div class="card">
                    <h4>Productos Open Source</h4>
                    <ul>
                        <li><strong>db4o:</strong> BDOO embebida para .NET y Java</li>
                        <li><strong>NeoDatis ODB:</strong> BDOO ligera para Java</li>
                        <li><strong>ZODB:</strong> BDOO nativa para Python</li>
                    </ul>
                </div>
            </section>

            <!-- Sección 2.2 -->
            <section id="odmg" class="section">
                <h2>2.2 El Estándar ODMG</h2>

                <div class="card">
                    <h3>¿Qué es ODMG?</h3>
                    <p><strong>ODMG (Object Data Management Group)</strong> fue un consorcio que desarrolló un estándar para bases de datos orientadas a objetos. Aunque el grupo se disolvió en 2001, su estándar ODMG 3.0 sigue siendo referencia importante.</p>
                </div>

                <h3>Componentes del Estándar ODMG</h3>

                <div class="card">
                    <h4>1. Modelo de Objetos</h4>
                    <p>Define conceptos fundamentales: objetos, literales, propiedades, operaciones, excepciones, relaciones y tipos.</p>
                    
                    <h4>2. ODL (Object Definition Language)</h4>
                    <p>Lenguaje de definición de esquemas orientado a objetos. Similar a IDL de CORBA.</p>
                    
                    <div class="code-block">class Persona {
    attribute string nombre;
    attribute int edad;
    attribute Date fechaNacimiento;
    relationship Set&lt;Curso&gt; cursosMatriculados;
    
    void cumplirAnios();
    int calcularEdad();
}</div>
                </div>

                <div class="card">
                    <h4>3. OQL (Object Query Language)</h4>
                    <p>Lenguaje de consulta declarativo basado en SQL pero adaptado a objetos.</p>
                    
                    <div class="code-block">SELECT e.nombre, e.salario
FROM empleados e
WHERE e.departamento.nombre = "Ventas" 
  AND e.salario > 50000
ORDER BY e.salario DESC</div>
                </div>

                <div class="card">
                    <h4>4. Enlaces a Lenguajes de Programación</h4>
                    <p>Define interfaces para C++, Java y Smalltalk, permitiendo manipular objetos persistentes directamente desde estos lenguajes.</p>
                </div>

                <h3>Características Principales de ODMG</h3>
                <ul>
                    <li><strong>Transparencia de persistencia:</strong> Objetos transitorios y persistentes se manejan igual</li>
                    <li><strong>Transacciones ACID:</strong> Garantiza atomicidad, consistencia, aislamiento y durabilidad</li>
                    <li><strong>Navegación por referencias:</strong> Acceso eficiente a objetos relacionados</li>
                    <li><strong>Colecciones:</strong> Set, Bag, List, Array para agrupar objetos</li>
                    <li><strong>Relaciones bidireccionales:</strong> Mantenimiento automático de integridad referencial</li>
                </ul>

                <div class="highlight">
                    <strong>💡 Dato Curioso:</strong> Aunque ODMG ya no está activo, sus conceptos influenciaron estándares modernos como JPA (Java Persistence API) y JDO (Java Data Objects).
                </div>
            </section>

            <!-- Sección 2.3 -->
            <section id="identidad" class="section">
                <h2>2.3 Identidad y Estructura de Objetos</h2>

                <h3>Identidad de Objetos (OID)</h3>
                
                <div class="card">
                    <p>La <strong>identidad de objeto</strong> es una característica fundamental que distingue las BDOO de otros modelos. Cada objeto tiene un identificador único (OID) que:</p>
                    <ul>
                        <li>Es asignado por el sistema al crear el objeto</li>
                        <li>Permanece inmutable durante toda la vida del objeto</li>
                        <li>Es independiente del contenido del objeto</li>
                        <li>No puede ser modificado por el usuario</li>
                        <li>Se utiliza para referenciar objetos</li>
                    </ul>
                </div>

                <h3>Diferencia entre Identidad, Igualdad y Equivalencia</h3>
                
                <div class="table-container">
                    <table>
                        <thead>
                            <tr>
                                <th>Concepto</th>
                                <th>Descripción</th>
                                <th>Operador</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><strong>Identidad</strong></td>
                                <td>Dos referencias apuntan al mismo objeto (mismo OID)</td>
                                <td>obj1 === obj2</td>
                            </tr>
                            <tr>
                                <td><strong>Igualdad Superficial</strong></td>
                                <td>Los atributos directos tienen los mismos valores</td>
                                <td>obj1 == obj2</td>
                            </tr>
                            <tr>
                                <td><strong>Igualdad Profunda</strong></td>
                                <td>Todos los atributos, incluyendo objetos referenciados, son iguales</td>
                                <td>obj1.deepEquals(obj2)</td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <h3>Estructura de Objetos</h3>

                <div class="card">
                    <h4>Componentes de un Objeto</h4>
                    <ol>
                        <li><strong>OID:</strong> Identificador único del objeto</li>
                        <li><strong>Estado:</strong> Valores de los atributos del objeto</li>
                        <li><strong>Comportamiento:</strong> Métodos que puede ejecutar</li>
                        <li><strong>Referencias:</strong> Enlaces a otros objetos</li>
                    </ol>
                </div>

                <div class="card">
                    <h4>Tipos de Estructuras</h4>
                    
                    <p><strong>Objetos Simples:</strong> Contienen atributos de tipos primitivos</p>
                    <div class="code-block">class Punto {
    int x;
    int y;
}</div>

                    <p><strong>Objetos Complejos:</strong> Contienen referencias a otros objetos</p>
                    <div class="code-block">class Empleado {
    string nombre;
    Departamento departamento;  // Referencia a objeto
    Set&lt;Proyecto&gt; proyectos;    // Colección de objetos
}</div>

                    <p><strong>Objetos Compuestos:</strong> Objetos que contienen otros objetos como parte integral</p>
                </div>

                <h3>Referencias y Compartición de Objetos</h3>
                <p>En BDOO, múltiples objetos pueden referenciar al mismo objeto mediante su OID. Esto permite:</p>
                <ul>
                    <li>Representar relaciones muchos-a-muchos naturalmente</li>
                    <li>Evitar duplicación de datos</li>
                    <li>Mantener consistencia automáticamente</li>
                    <li>Navegar eficientemente entre objetos relacionados</li>
                </ul>
            </section>

            <!-- Sección 2.4 -->
            <section id="encapsulamiento" class="section">
                <h2>2.4 Encapsulamiento, Herencia y Polimorfismo en BDOO</h2>

                <h3>Encapsulamiento</h3>
                
                <div class="card">
                    <p>El <strong>encapsulamiento</strong> es el mecanismo de ocultar los detalles de implementación interna de un objeto, exponiendo solo una interfaz pública bien definida.</p>
                    
                    <h4>Beneficios del Encapsulamiento</h4>
                    <ul>
                        <li><strong>Abstracción:</strong> Separación entre interfaz e implementación</li>
                        <li><strong>Protección de datos:</strong> Control de acceso a atributos internos</li>
                        <li><strong>Mantenibilidad:</strong> Cambios internos no afectan código externo</li>
                        <li><strong>Integridad:</strong> Validaciones en métodos de acceso</li>
                    </ul>
                </div>

                <div class="card">
                    <h4>Niveles de Visibilidad</h4>
                    <div class="code-block">class CuentaBancaria {
    private double saldo;          // Solo accesible dentro de la clase
    protected string titular;       // Accesible en subclases
    public string numeroCuenta;     // Accesible desde cualquier lugar
    
    public void depositar(double monto) {
        if (monto > 0) {
            this.saldo += monto;
        }
    }
    
    public double consultarSaldo() {
        return this.saldo;
    }
}</div>
                </div>

                <h3>Herencia</h3>

                <div class="card">
                    <p>La <strong>herencia</strong> permite crear nuevas clases (subclases) basadas en clases existentes (superclases), heredando sus atributos y métodos.</p>
                    
                    <h4>Tipos de Herencia</h4>
                    
                    <p><strong>1. Herencia Simple:</strong> Una clase hereda de una sola superclase</p>
                    <div class="code-block">class Empleado extends Persona {
    double salario;
    string numeroEmpleado;
    
    void trabajar() { ... }
}</div>

                    <p><strong>2. Herencia Múltiple:</strong> Una clase hereda de múltiples superclases (no soportada en todos los SGBD)</p>
                    <div class="code-block">class Estudiante-Empleado extends Estudiante, Empleado {
    // Hereda de ambas clases
}</div>

                    <p><strong>3. Herencia Multinivel:</strong> Jerarquías de herencia en varios niveles</p>
                    <div class="code-block">Persona → Empleado → Gerente → Director</div>
                </div>

                <div class="highlight">
                    <strong>⚠️ Importante:</strong> La herencia debe usarse cuidadosamente. No es una simple forma de reutilizar código, sino que debe representar una relación "es-un" genuina.
                </div>

                <h3>Polimorfismo</h3>

                <div class="card">
                    <p>El <strong>polimorfismo</strong> permite que objetos de diferentes clases respondan a la misma operación de manera específica a su tipo.</p>
                    
                    <h4>Tipos de Polimorfismo</h4>
                    
                    <p><strong>1. Polimorfismo de Sobrecarga:</strong> Múltiples métodos con el mismo nombre pero diferentes parámetros</p>
                    <div class="code-block">class Calculadora {
    int sumar(int a, int b) { return a + b; }
    double sumar(double a, double b) { return a + b; }
    int sumar(int a, int b, int c) { return a + b + c; }
}</div>

                    <p><strong>2. Polimorfismo de Sobreescritura:</strong> Subclases redefinen métodos heredados</p>
                    <div class="code-block">class Figura {
    virtual double calcularArea() { ... }
}

class Circulo extends Figura {
    double radio;
    
    override double calcularArea() {
        return Math.PI * radio * radio;
    }
}

class Rectangulo extends Figura {
    double base, altura;
    
    override double calcularArea() {
        return base * altura;
    }
}</div>

                    <p><strong>3. Polimorfismo Paramétrico:</strong> Clases y métodos genéricos</p>
                    <div class="code-block">class Lista&lt;T&gt; {
    void agregar(T elemento) { ... }
    T obtener(int indice) { ... }
}</div>
                </div>

                <h3>Aplicación en BDOO</h3>
                <p>Estos tres conceptos trabajan juntos en las BDOO para:</p>
                <ul>
                    <li>Modelar jerarquías complejas del mundo real</li>
                    <li>Facilitar la extensibilidad del esquema de base de datos</li>
                    <li>Permitir consultas polimórficas que operan sobre jerarquías de clases</li>
                    <li>Mantener la integridad de datos mediante validaciones encapsuladas</li>
                </ul>
            </section>

            <!-- Sección 2.5 -->
            <section id="persistencia" class="section">
                <h2>2.5 Persistencia, Concurrencia y Recuperación en BDOO</h2>

                <h3>Persistencia de Objetos</h3>

                <div class="card">
                    <p>La <strong>persistencia</strong> es la capacidad de mantener objetos más allá de la ejecución del programa que los creó.</p>
                    
                    <h4>Mecanismos de Persistencia</h4>
                    
                    <p><strong>1. Persistencia por Alcance:</strong></p>
                    <ul>
                        <li>Objetos persistentes si son alcanzables desde objetos raíz persistentes</li>
                        <li>Gestión automática de persistencia</li>
                        <li>El programador no necesita marcar explícitamente cada objeto</li>
                    </ul>

                    <p><strong>2. Persistencia por Clase:</strong></p>
                    <ul>
                        <li>Todas las instancias de ciertas clases son automáticamente persistentes</li>
                        <li>Se declara al definir la clase</li>
                        <li>Ejemplo: <code>persistent class Empleado { ... }</code></li>
                    </ul>

                    <p><strong>3. Persistencia Explícita:</strong></p>
                    <ul>
                        <li>El programador marca explícitamente qué objetos deben persistir</li>
                        <li>Mayor control pero más trabajo</li>
                        <li>Ejemplo: <code>database.makePersistent(objeto);</code></li>
                    </ul>
                </div>

                <div class="card">
                    <h4>Ciclo de Vida de un Objeto Persistente</h4>
                    <ol>
                        <li><strong>Transitorio:</strong> Objeto recién creado en memoria</li>
                        <li><strong>Persistente:</strong> Objeto almacenado en la base de datos</li>
                        <li><strong>Persistente-Sucio:</strong> Objeto persistente modificado en memoria</li>
                        <li><strong>Persistente-Limpio:</strong> Objeto persistente sin modificaciones</li>
                        <li><strong>Borrado:</strong> Objeto marcado para eliminación</li>
                    </ol>
                </div>

                <h3>Control de Concurrencia</h3>

                <div class="card">
                    <p>El <strong>control de concurrencia</strong> gestiona el acceso simultáneo de múltiples usuarios a los mismos objetos.</p>
                    
                    <h4>Técnicas de Control de Concurrencia</h4>
                    
                    <p><strong>1. Bloqueo (Locking):</strong></p>
                    <ul>
                        <li><strong>Bloqueo compartido (Read Lock):</strong> Múltiples lecturas simultáneas</li>
                        <li><strong>Bloqueo exclusivo (Write Lock):</strong> Un solo usuario puede modificar</li>
                        <li><strong>Bloqueo de granularidad variable:</strong> A nivel de objeto, clase o base de datos</li>
                    </ul>

                    <p><strong>2. Control de Concurrencia Optimista:</strong></p>
                    <ul>
                        <li>No bloquea objetos durante lectura</li>
                        <li>Verifica conflictos al momento de commit</li>
                        <li>Si hay conflicto, revierte la transacción</li>
                        <li>Mejor para aplicaciones con baja probabilidad de conflictos</li>
                    </ul>

                    <p><strong>3. Control de Versiones:</strong></p>
                    <ul>
                        <li>Mantiene múltiples versiones de objetos</li>
                        <li>Cada transacción trabaja con su propia versión</li>
                        <li>Reconciliación de versiones al finalizar</li>
                    </ul>
                </div>

                <div class="highlight">
                    <strong>⚠️ Problema del Interbloqueo (Deadlock):</strong> Ocurre cuando dos o más transacciones se bloquean mutuamente esperando recursos. Las BDOO implementan algoritmos de detección y resolución de deadlocks.
                </div>

                <h3>Transacciones</h3>

                <div class="card">
                    <h4>Propiedades ACID</h4>
                    <ul>
                        <li><strong>Atomicidad:</strong> La transacción se ejecuta completamente o no se ejecuta</li>
                        <li><strong>Consistencia:</strong> La transacción lleva la BD de un estado válido a otro válido</li>
                        <li><strong>Aislamiento:</strong> Las transacciones concurrentes no se interfieren</li>
                        <li><strong>Durabilidad:</strong> Los cambios confirmados persisten incluso ante fallos</li>
                    </ul>

                    <div class="code-block">// Ejemplo de transacción
database.beginTransaction();
try {
    Cuenta c1 = database.getObject("cuenta1");
    Cuenta c2 = database.getObject("cuenta2");
    
    c1.retirar(1000);
    c2.depositar(1000);
    
    database.commit();  // Confirma cambios
} catch (Exception e) {
    database.rollback();  // Revierte cambios
}</div>
                </div>

                <h3>Recuperación ante Fallos</h3>

                <div class="card">
                    <p>Los sistemas de <strong>recuperación</strong> garantizan que la base de datos pueda volver a un estado consistente después de un fallo.</p>
                    
                    <h4>Técnicas de Recuperación</h4>
                    
                    <p><strong>1. Registro de Operaciones (Log):</strong></p>
                    <ul>
                        <li>Registra todas las operaciones antes de ejecutarlas</li>
                        <li>Permite deshacer (UNDO) o rehacer (REDO) operaciones</li>
                        <li>Tipos: write-ahead logging, shadow paging</li>
                    </ul>

                    <p><strong>2. Puntos de Verificación (Checkpoints):</strong></p>
                    <ul>
                        <li>Guardan el estado completo de la BD periódicamente</li>
                        <li>Reducen tiempo de recuperación</li>
                        <li>La recuperación comienza desde el último checkpoint</li>
                    </ul>

                    <p><strong>3. Copias de Seguridad (Backups):</strong></p>
                    <ul>
                        <li>Completas: toda la base de datos</li>
                        <li>Incrementales: solo cambios desde último backup</li>
                        <li>Diferenciales: cambios desde último backup completo</li>
                    </ul>
                </div>

                <div class="card">
                    <h4>Proceso de Recuperación</h4>
                    <ol>
                        <li>Detectar el tipo de fallo (sistema, medio, transacción)</li>
                        <li>Identificar transacciones afectadas</li>
                        <li>Deshacer transacciones no completadas (UNDO)</li>
                        <li>Rehacer transacciones completadas pero no escritas (REDO)</li>
                        <li>Restaurar estado consistente de la base de datos</li>
                    </ol>
                </div>

                <h3>Características Especiales en BDOO</h3>
                <ul>
                    <li><strong>Persistencia transitiva:</strong> Al hacer persistente un objeto, todos los objetos referenciados también se hacen persistentes</li>
                    <li><strong>Caché de objetos:</strong> Mejora rendimiento manteniendo objetos frecuentemente accedidos en memoria</li>
                    <li><strong>Clúster de objetos:</strong> Agrupa objetos relacionados en disco para acceso eficiente</li>
                    <li><strong>Recuperación de grafos de objetos:</strong> Restaura no solo objetos individuales sino sus relaciones</li>
                </ul>
            </section>
        </div>
    </div>

    <script>
        function showSection(sectionId) {
            const sections = document.querySelectorAll('.section');
            sections.forEach(section => {
                section.classList.remove('active');
            });

            document.getElementById(sectionId).classList.add('active');

            const buttons = document.querySelectorAll('.nav-btn');
            buttons.forEach(button => {
                button.classList.remove('active');
            });
            event.target.classList.add('active');

            window.scrollTo({
                top: 0,
                behavior: 'smooth'
            });
        }
    </script>
</body>
</html>
